(()=>{var e={};e.id=844,e.ids=[844],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},91971:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>l});var s=a(70260),r=a(28203),o=a(25155),n=a.n(o),d=a(67292),i={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);a.d(t,i);let l=["",{children:["(admins)",{children:["admin",{children:["dashboard",{children:["category",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,16635)),"F:\\websites\\project\\milton\\biddarthy\\src\\app\\(admins)\\admin\\dashboard\\category\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,36355)),"F:\\websites\\project\\milton\\biddarthy\\src\\app\\(admins)\\admin\\dashboard\\layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,25968)),"F:\\websites\\project\\milton\\biddarthy\\src\\app\\(admins)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,71354)),"F:\\websites\\project\\milton\\biddarthy\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,21154)),"F:\\websites\\project\\milton\\biddarthy\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["F:\\websites\\project\\milton\\biddarthy\\src\\app\\(admins)\\admin\\dashboard\\category\\page.tsx"],p={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/(admins)/admin/dashboard/category/page",pathname:"/admin/dashboard/category",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},5559:(e,t,a)=>{Promise.resolve().then(a.bind(a,16635))},58703:(e,t,a)=>{Promise.resolve().then(a.bind(a,93383))},93383:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var s=a(45512),r=a(58009),o=a(39400),n=a(47630),d=a(43264),i=a(77722),l=a(35223),c=a(99274),p=a(10561);function m(){let[e,t]=(0,r.useState)([]),[a,m]=(0,r.useState)(null),[h,f]=(0,r.useState)(""),[x,u]=(0,r.useState)(!1),[b,g]=(0,r.useState)(!1),[y,j]=(0,r.useState)(!0),v=async()=>{j(!0);try{let e=await fetch("/api/categories"),a=await e.json();t(a)}catch(e){console.error("Failed to fetch categories:",e)}finally{j(!1)}},w=e=>{m(e),f(e.categoryName),u(!0)},N=async e=>{g(!0);try{let t=await fetch(`/api/categories/${e}`,{method:"DELETE"});if(t.ok)v();else{let e=await t.json();alert(e.message||"Failed to delete category")}}catch(e){console.error("Delete failed:",e)}finally{g(!1)}},C=async()=>{if(""===h.trim())return;let e={categoryName:h};g(!0);try{let t;if((t=a?await fetch(`/api/categories/${a._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}):await fetch("/api/categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)u(!1),v();else{let e=await t.json();alert(e.message||"Failed to save category")}}catch(e){console.error("Save failed:",e)}finally{g(!1)}};return(0,s.jsxs)("div",{className:"p-6 m-6 border rounded-lg shadow",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-lg font-bold",children:"Category Table"}),(0,s.jsx)(o.$,{onClick:()=>{m(null),f(""),u(!0)},disabled:b,children:b?"Processing...":"Add Category"})]}),(0,s.jsxs)(n.XI,{children:[(0,s.jsx)(n.A0,{children:(0,s.jsxs)(n.Hj,{children:[(0,s.jsx)(n.nd,{children:"Serial"}),(0,s.jsx)(n.nd,{children:"Category Name"}),(0,s.jsx)(n.nd,{children:"Actions"})]})}),(0,s.jsx)(n.BF,{children:y?(0,s.jsx)(n.Hj,{children:(0,s.jsx)(n.nA,{colSpan:3,className:"text-center",children:"Loading categories..."})}):0===e.length?(0,s.jsx)(n.Hj,{children:(0,s.jsx)(n.nA,{colSpan:3,className:"text-center",children:"No categories found."})}):e.map((e,t)=>(0,s.jsxs)(n.Hj,{children:[(0,s.jsx)(n.nA,{children:t+1}),(0,s.jsx)(n.nA,{children:e.categoryName}),(0,s.jsx)(n.nA,{children:(0,s.jsxs)(l.rI,{children:[(0,s.jsx)(l.ty,{asChild:!0,children:(0,s.jsx)(o.$,{variant:"ghost",className:"h-8 w-8 p-0",disabled:b,children:(0,s.jsx)(c.A,{className:"w-4 h-4"})})}),(0,s.jsxs)(l.SQ,{children:[(0,s.jsxs)(l._2,{onClick:()=>w(e),disabled:b,children:[(0,s.jsx)(c.A,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,s.jsx)(l._2,{onClick:()=>N(e._id),disabled:b,children:b?"Deleting...":(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Delete"]})})]})]})})]},e._id))})]}),(0,s.jsx)(d.lG,{open:x,onOpenChange:u,children:(0,s.jsxs)(d.Cf,{children:[(0,s.jsx)(d.c7,{children:(0,s.jsx)(d.L3,{children:a?"Edit Category":"Add Category"})}),(0,s.jsx)(i.p,{type:"text",value:h,onChange:e=>f(e.target.value),placeholder:"Enter category name",disabled:b}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsxs)(o.$,{onClick:C,disabled:b,children:[b?"Saving...":a?"Update":"Create"," Category"]})})]})})]})}},43264:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>p,L3:()=>h,c7:()=>m,lG:()=>i});var s=a(45512),r=a(58009),o=a(27553),n=a(51255),d=a(44195);let i=o.bL;o.l9;let l=o.ZL;o.bm;let c=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(o.hJ,{ref:a,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));c.displayName=o.hJ.displayName;let p=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(l,{children:[(0,s.jsx)(c,{}),(0,s.jsxs)(o.UC,{ref:r,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,(0,s.jsxs)(o.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(n.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));p.displayName=o.UC.displayName;let m=({className:e,...t})=>(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});m.displayName="DialogHeader";let h=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(o.hE,{ref:a,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));h.displayName=o.hE.displayName,r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(o.VY,{ref:a,className:(0,d.cn)("text-sm text-muted-foreground",e),...t})).displayName=o.VY.displayName},47630:(e,t,a)=>{"use strict";a.d(t,{A0:()=>d,BF:()=>i,Hj:()=>l,XI:()=>n,nA:()=>p,nd:()=>c});var s=a(45512),r=a(58009),o=a(44195);let n=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:a,className:(0,o.cn)("w-full caption-bottom text-sm",e),...t})}));n.displayName="Table";let d=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("thead",{ref:a,className:(0,o.cn)("[&_tr]:border-b",e),...t}));d.displayName="TableHeader";let i=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("tbody",{ref:a,className:(0,o.cn)("[&_tr:last-child]:border-0",e),...t}));i.displayName="TableBody",r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("tfoot",{ref:a,className:(0,o.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let l=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("tr",{ref:a,className:(0,o.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));l.displayName="TableRow";let c=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("th",{ref:a,className:(0,o.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));c.displayName="TableHead";let p=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("td",{ref:a,className:(0,o.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));p.displayName="TableCell",r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("caption",{ref:a,className:(0,o.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},16635:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"F:\\\\websites\\\\project\\\\milton\\\\biddarthy\\\\src\\\\app\\\\(admins)\\\\admin\\\\dashboard\\\\category\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"F:\\websites\\project\\milton\\biddarthy\\src\\app\\(admins)\\admin\\dashboard\\category\\page.tsx","default")},99274:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(94825).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},10561:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(94825).A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])}};var t=require("../../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[638,512,832,77,310,464,568,118],()=>a(91971));module.exports=s})();