(()=>{var e={};e.id=426,e.ids=[426],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},32803:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>d.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>l});var s=a(70260),r=a(28203),n=a(25155),d=a.n(n),o=a(67292),i={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);a.d(t,i);let l=["",{children:["(admins)",{children:["admin",{children:["dashboard",{children:["banner",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,96101)),"F:\\websites\\project\\milton\\biddarthy\\src\\app\\(admins)\\admin\\dashboard\\banner\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,36355)),"F:\\websites\\project\\milton\\biddarthy\\src\\app\\(admins)\\admin\\dashboard\\layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,25968)),"F:\\websites\\project\\milton\\biddarthy\\src\\app\\(admins)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,71354)),"F:\\websites\\project\\milton\\biddarthy\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,21154)),"F:\\websites\\project\\milton\\biddarthy\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["F:\\websites\\project\\milton\\biddarthy\\src\\app\\(admins)\\admin\\dashboard\\banner\\page.tsx"],m={require:a,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/(admins)/admin/dashboard/banner/page",pathname:"/admin/dashboard/banner",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},37377:(e,t,a)=>{Promise.resolve().then(a.bind(a,96101))},50529:(e,t,a)=>{Promise.resolve().then(a.bind(a,11009))},11009:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var s=a(45512),r=a(58009),n=a(45103),d=a(39400),o=a(47630),i=a(43264),l=a(77722),c=a(81580),m=a(10561),p=a(35223);function h(){let[e,t]=(0,r.useState)(null),[a,h]=(0,r.useState)(!1),[f,u]=(0,r.useState)(null),[x,b]=(0,r.useState)(!1),[j,g]=(0,r.useState)(!0),y=async()=>{g(!0);try{let e=await fetch("/api/homebanner"),a=await e.json();a?.image&&t({...a,image:`https://api.biddarthi.org/${a.image}`})}catch(e){console.error("Failed to fetch banner:",e)}finally{g(!1)}},w=async e=>{if(e.preventDefault(),!f){alert("Please select an image file.");return}b(!0);let t=new FormData;t.append("image",f);try{let e=await fetch("/api/homebanner",{method:"POST",body:t});if(e.ok)h(!1),y();else{let t=await e.json();alert(t.message||"Failed to upload banner")}}catch(e){console.error("Upload failed:",e)}finally{b(!1)}},v=async()=>{b(!0);try{let e=await fetch("/api/homebanner",{method:"DELETE"});if(e.ok)t(null);else{let t=await e.json();alert(t.message||"Failed to delete banner")}}catch(e){console.error("Delete failed:",e)}finally{b(!1)}};return(0,s.jsxs)("div",{className:"p-6 m-6 border rounded-lg shadow",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-lg font-bold",children:"Home Banner"}),(0,s.jsx)(d.$,{onClick:()=>h(!0),disabled:x,children:x?"Processing...":"Upload New Banner"})]}),(0,s.jsxs)(o.XI,{children:[(0,s.jsx)(o.A0,{children:(0,s.jsxs)(o.Hj,{children:[(0,s.jsx)(o.nd,{children:"Banner"}),(0,s.jsx)(o.nd,{children:"Uploaded At"}),(0,s.jsx)(o.nd,{children:"Actions"})]})}),(0,s.jsx)(o.BF,{children:j?(0,s.jsx)(o.Hj,{children:(0,s.jsx)(o.nA,{colSpan:3,className:"text-center",children:"Loading banner..."})}):e?(0,s.jsxs)(o.Hj,{children:[(0,s.jsx)(o.nA,{children:(0,s.jsx)(n.default,{src:e.image,alt:"Banner",width:150,height:80,className:"rounded-lg"})}),(0,s.jsx)(o.nA,{children:new Date(e.createdAt).toLocaleDateString()}),(0,s.jsx)(o.nA,{children:(0,s.jsxs)(p.rI,{children:[(0,s.jsx)(p.ty,{asChild:!0,children:(0,s.jsx)(d.$,{variant:"ghost",className:"h-8 w-8 p-0",children:(0,s.jsx)(c.A,{className:"w-4 h-4"})})}),(0,s.jsx)(p.SQ,{children:(0,s.jsxs)(p._2,{onClick:v,disabled:x,children:[(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4"})," ",x?"Deleting...":"Delete"]})})]})})]}):(0,s.jsx)(o.Hj,{children:(0,s.jsx)(o.nA,{colSpan:3,className:"text-center",children:"No banner uploaded."})})})]}),(0,s.jsx)(i.lG,{open:a,onOpenChange:h,children:(0,s.jsxs)(i.Cf,{children:[(0,s.jsx)(i.c7,{children:(0,s.jsx)(i.L3,{children:"Upload Home Banner"})}),(0,s.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,s.jsx)(l.p,{type:"file",accept:"image/*",onChange:e=>{let t=e.target.files?.[0];t&&u(t)},disabled:x}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(d.$,{type:"submit",disabled:x||!f,children:x?"Uploading...":"Upload"})})]})]})})]})}},43264:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>m,L3:()=>h,c7:()=>p,lG:()=>i});var s=a(45512),r=a(58009),n=a(27553),d=a(51255),o=a(44195);let i=n.bL;n.l9;let l=n.ZL;n.bm;let c=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(n.hJ,{ref:a,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));c.displayName=n.hJ.displayName;let m=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(l,{children:[(0,s.jsx)(c,{}),(0,s.jsxs)(n.UC,{ref:r,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,(0,s.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(d.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=n.UC.displayName;let p=({className:e,...t})=>(0,s.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});p.displayName="DialogHeader";let h=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(n.hE,{ref:a,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));h.displayName=n.hE.displayName,r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(n.VY,{ref:a,className:(0,o.cn)("text-sm text-muted-foreground",e),...t})).displayName=n.VY.displayName},47630:(e,t,a)=>{"use strict";a.d(t,{A0:()=>o,BF:()=>i,Hj:()=>l,XI:()=>d,nA:()=>m,nd:()=>c});var s=a(45512),r=a(58009),n=a(44195);let d=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:a,className:(0,n.cn)("w-full caption-bottom text-sm",e),...t})}));d.displayName="Table";let o=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("thead",{ref:a,className:(0,n.cn)("[&_tr]:border-b",e),...t}));o.displayName="TableHeader";let i=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("tbody",{ref:a,className:(0,n.cn)("[&_tr:last-child]:border-0",e),...t}));i.displayName="TableBody",r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("tfoot",{ref:a,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let l=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("tr",{ref:a,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));l.displayName="TableRow";let c=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("th",{ref:a,className:(0,n.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));c.displayName="TableHead";let m=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("td",{ref:a,className:(0,n.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));m.displayName="TableCell",r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("caption",{ref:a,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},96101:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"F:\\\\websites\\\\project\\\\milton\\\\biddarthy\\\\src\\\\app\\\\(admins)\\\\admin\\\\dashboard\\\\banner\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"F:\\websites\\project\\milton\\biddarthy\\src\\app\\(admins)\\admin\\dashboard\\banner\\page.tsx","default")},10561:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(94825).A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])}};var t=require("../../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[638,512,832,77,310,464,568,118],()=>a(32803));module.exports=s})();