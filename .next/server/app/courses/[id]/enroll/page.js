(()=>{var e={};e.id=712,e.ids=[712],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},55843:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=r(70260),n=r(28203),i=r(25155),a=r.n(i),o=r(67292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["courses",{children:["[id]",{children:["enroll",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,37863)),"F:\\websites\\project\\milton\\biddarthy\\src\\app\\courses\\[id]\\enroll\\page.tsx"]}]},{}]},{loading:[()=>Promise.resolve().then(r.bind(r,89201)),"F:\\websites\\project\\milton\\biddarthy\\src\\app\\courses\\[id]\\loading.tsx"]}]},{loading:[()=>Promise.resolve().then(r.bind(r,6457)),"F:\\websites\\project\\milton\\biddarthy\\src\\app\\courses\\loading.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,71354)),"F:\\websites\\project\\milton\\biddarthy\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,21154)),"F:\\websites\\project\\milton\\biddarthy\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["F:\\websites\\project\\milton\\biddarthy\\src\\app\\courses\\[id]\\enroll\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/courses/[id]/enroll/page",pathname:"/courses/[id]/enroll",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},56670:(e,t,r)=>{Promise.resolve().then(r.bind(r,37863))},25126:(e,t,r)=>{Promise.resolve().then(r.bind(r,68033))},37711:(e,t,r)=>{Promise.resolve().then(r.bind(r,89201))},97543:(e,t,r)=>{Promise.resolve().then(r.bind(r,60301))},63108:(e,t,r)=>{Promise.resolve().then(r.bind(r,6457))},87076:(e,t,r)=>{Promise.resolve().then(r.bind(r,32037))},68033:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(45512),n=r(58009),i=r(79334),a=r(24540);let o=({onClose:e,children:t})=>(0,s.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black opacity-50",onClick:e}),(0,s.jsxs)(a.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-[#13284D] p-6 rounded-lg shadow-lg z-10 max-w-md w-full",children:[t,(0,s.jsx)("div",{className:"mt-6 flex justify-end",children:(0,s.jsx)("button",{onClick:e,className:"px-4 py-2 bg-[#f4bc45] text-[#13284D] rounded-lg hover:bg-opacity-90",children:"Close"})})]})]});var l=r(26753);let c=({params:e})=>{let t=(0,i.useRouter)(),[r,a]=(0,n.useState)({name:"",phone:"",email:"",transactionId:""}),[c,d]=(0,n.useState)(!1),[u,p]=(0,n.useState)({price:0,discountPrice:0,discountEndsAt:""}),[m,h]=(0,n.useState)(!0),[f,b]=(0,n.useState)(!1),[x,g]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{let{id:t}=await e;g(t)})()},[e]),(0,n.useEffect)(()=>{x&&(async()=>{try{h(!0);let e=await fetch(`/api/courses/${x}`),t=await e.json();if(!e.ok)throw Error(t.message||"Failed to fetch course details");p({price:t.price,discountPrice:t.discountPrice,discountEndsAt:t.discountEndsAt})}catch(e){console.error("Error fetching course data:",e)}finally{h(!1)}})()},[x]);let y=e=>{a({...r,[e.target.name]:e.target.value})},j=async e=>{if(e.preventDefault(),x)try{b(!0);let e=await fetch("/api/enrollments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({courseId:x,...r})}),t=await e.json();if(!e.ok)throw Error(t.message||"Failed to enroll");d(!0)}catch(e){console.error("Enrollment failed:",e)}finally{b(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-[#0A192F]",children:[(0,s.jsxs)("div",{className:"bg-[#13284D] p-6 rounded-lg shadow-md max-w-md w-full",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold mb-4 text-white",children:"Enroll in Course"}),m?(0,s.jsx)("div",{className:"flex justify-center items-center",children:(0,s.jsx)(l.A,{className:"animate-spin text-gray-300",size:24})}):(0,s.jsxs)("p",{className:"text-gray-300 mb-4",children:["Please send ",(0,s.jsxs)("strong",{children:["à§³",new Date(u.discountEndsAt)>new Date&&u.discountPrice?u.discountPrice:u.price]})," to the bKash number ",(0,s.jsx)("strong",{children:"01846838507"})," and fill out the form below with your payment details."]}),(0,s.jsxs)("form",{onSubmit:j,children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-300 mb-2",children:"Full Name"}),(0,s.jsx)("input",{type:"text",name:"name",value:r.name,onChange:y,required:!0,className:"w-full px-3 py-2 border rounded-lg bg-[#0A192F] text-white border-gray-600"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-300 mb-2",children:"Phone Number"}),(0,s.jsx)("input",{type:"tel",name:"phone",value:r.phone,onChange:y,required:!0,className:"w-full px-3 py-2 border rounded-lg bg-[#0A192F] text-white border-gray-600"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-300 mb-2",children:"Email"}),(0,s.jsx)("input",{type:"email",name:"email",value:r.email,onChange:y,required:!0,className:"w-full px-3 py-2 border rounded-lg bg-[#0A192F] text-white border-gray-600"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-300 mb-2",children:"Transaction ID"}),(0,s.jsx)("input",{type:"text",name:"transactionId",value:r.transactionId,onChange:y,required:!0,className:"w-full px-3 py-2 border rounded-lg bg-[#0A192F] text-white border-gray-600"})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,s.jsx)("button",{type:"button",onClick:()=>t.back(),className:"px-4 py-2 text-gray-300 hover:text-white",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"px-4 py-2 bg-[#f4bc45] text-[#13284D] rounded-lg hover:bg-opacity-90 flex items-center justify-center",disabled:f,children:f?(0,s.jsx)(l.A,{className:"animate-spin mr-2",size:18}):"Submit"})]})]})]}),c&&(0,s.jsxs)(o,{onClose:()=>{d(!1),t.push(`/courses/${x}`)},children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-white",children:"Enrollment Successful!"}),(0,s.jsx)("p",{className:"text-gray-300 mb-4",children:"Thank you for enrolling. Please join our telegram group using the link below for further instructions. You will get a confirmation mail soon."}),(0,s.jsx)("a",{href:"https://t.me/+P7eho8F8mSM1NzU1",target:"_blank",rel:"noopener noreferrer",className:"text-[#f4bc45] hover:underline",children:"Join the Group"})]})]})}},60301:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(45512),n=r(45103),i=r(24540),a=r(96576);let o=()=>(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-[#0A192F]",children:(0,s.jsx)(i.P.div,{className:"flex items-center justify-center w-32 h-32",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:(0,s.jsx)(n.default,{src:a.A,alt:"Loading...",width:128,height:128,className:"object-contain"})})})},32037:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(45512),n=r(45103),i=r(24540),a=r(96576);let o=()=>(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-[#0A192F]",children:(0,s.jsx)(i.P.div,{className:"flex items-center justify-center w-32 h-32",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:(0,s.jsx)(n.default,{src:a.A,alt:"Loading...",width:128,height:128,className:"object-contain"})})})},37301:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return l}});let s=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(void 0);if(r&&r.has(e))return r.get(e);var s={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,r&&r.set(e,s),s}(r(76301));function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}let i={current:null},a="function"==typeof s.cache?s.cache:e=>e,o=console.warn;function l(e){return function(...t){o(e(...t))}}a(e=>{try{o(i.current)}finally{i.current=null}})},37863:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"F:\\\\websites\\\\project\\\\milton\\\\biddarthy\\\\src\\\\app\\\\courses\\\\[id]\\\\enroll\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"F:\\websites\\project\\milton\\biddarthy\\src\\app\\courses\\[id]\\enroll\\page.tsx","default")},89201:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"F:\\\\websites\\\\project\\\\milton\\\\biddarthy\\\\src\\\\app\\\\courses\\\\[id]\\\\loading.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"F:\\websites\\project\\milton\\biddarthy\\src\\app\\courses\\[id]\\loading.tsx","default")},6457:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"F:\\\\websites\\\\project\\\\milton\\\\biddarthy\\\\src\\\\app\\\\courses\\\\loading.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"F:\\websites\\project\\milton\\biddarthy\\src\\app\\courses\\loading.tsx","default")},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(88077);let n=async e=>[{type:"image/x-icon",sizes:"234x326",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},94825:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(58009);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:l,iconNode:c,...d},u)=>(0,s.createElement)("svg",{ref:u,...a,width:t,height:t,stroke:e,strokeWidth:n?24*Number(r)/Number(t):r,className:i("lucide",o),...d},[...c.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(l)?l:[l]])),l=(e,t)=>{let r=(0,s.forwardRef)(({className:r,...a},l)=>(0,s.createElement)(o,{ref:l,iconNode:t,className:i(`lucide-${n(e)}`,r),...a}));return r.displayName=`${e}`,r}},26753:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(94825).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,832,77,568],()=>r(55843));module.exports=s})();