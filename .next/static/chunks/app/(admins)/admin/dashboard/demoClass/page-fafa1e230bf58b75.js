(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[153],{364:(e,t,a)=>{Promise.resolve().then(a.bind(a,9200))},9200:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var l=a(5155),s=a(2115),r=a(3312),d=a(2508),n=a(1344),i=a(3900),c=a(368),o=a(8070),h=a(2715),x=a(7485),u=a(1585);function m(){let[e,t]=(0,s.useState)([]),[a,m]=(0,s.useState)([]),[f,j]=(0,s.useState)(null),[p,y]=(0,s.useState)(!1),[v,b]=(0,s.useState)(!1),g=async()=>{try{let e=await fetch("/api/categories"),t=await e.json();m(t)}catch(e){console.error("Failed to fetch categories:",e)}},N=async()=>{try{let e=await fetch("/api/demoVideos"),a=await e.json();t(a)}catch(e){console.error("Failed to fetch demo classes:",e)}};(0,s.useEffect)(()=>{g(),N()},[]);let w=e=>{j(e),y(!0)},k=async e=>{b(!0);try{await fetch("/api/demoVideos/".concat(e),{method:"DELETE"}),N()}catch(e){console.error("Delete failed:",e)}finally{b(!1)}},A=async()=>{if(!f)return;let e=f._id?"PUT":"POST",t=f._id?"/api/demoVideos/".concat(f._id):"/api/demoVideos";b(!0);try{await fetch(t,{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}),y(!1),N()}catch(e){console.error("Save failed:",e)}finally{b(!1)}};return(0,l.jsxs)("div",{className:"p-6 m-6 border rounded-lg shadow",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h2",{className:"text-lg font-bold",children:"Demo Classes"}),(0,l.jsx)(r.$,{onClick:()=>{j({_id:"",title:"",videoLink:"",category:"",instructor:"",createdAt:"",updatedAt:""}),y(!0)},children:"Add Demo Class"})]}),(0,l.jsxs)(d.XI,{children:[(0,l.jsx)(d.A0,{children:(0,l.jsxs)(d.Hj,{children:[(0,l.jsx)(d.nd,{children:"Title"}),(0,l.jsx)(d.nd,{children:"Video Link"}),(0,l.jsx)(d.nd,{children:"Category"}),(0,l.jsx)(d.nd,{children:"Instructor"}),(0,l.jsx)(d.nd,{children:"Action"})]})}),(0,l.jsx)(d.BF,{children:e.map(e=>(0,l.jsxs)(d.Hj,{children:[(0,l.jsx)(d.nA,{children:e.title}),(0,l.jsx)(d.nA,{children:e.videoLink}),(0,l.jsx)(d.nA,{children:"string"==typeof e.category?"Unknown":e.category.categoryName}),(0,l.jsx)(d.nA,{children:e.instructor}),(0,l.jsx)(d.nA,{children:(0,l.jsxs)(x.rI,{children:[(0,l.jsx)(x.ty,{asChild:!0,children:(0,l.jsx)(r.$,{variant:"ghost",className:"h-8 w-8 p-0",children:(0,l.jsx)(c.A,{className:"w-4 h-4"})})}),(0,l.jsxs)(x.SQ,{children:[(0,l.jsxs)(x._2,{onClick:()=>w(e),children:[(0,l.jsx)(o.A,{className:"mr-2 h-4 w-4"})," Edit"]}),(0,l.jsxs)(x._2,{onClick:()=>k(e._id),children:[(0,l.jsx)(h.A,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})})]},e._id))})]}),(0,l.jsx)(n.lG,{open:p,onOpenChange:y,children:(0,l.jsxs)(n.Cf,{children:[(0,l.jsx)(n.c7,{children:(0,l.jsx)(n.L3,{children:(null==f?void 0:f._id)?"Edit Demo Class":"Add Demo Class"})}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)(i.p,{placeholder:"Title",value:(null==f?void 0:f.title)||"",onChange:e=>j(t=>t&&{...t,title:e.target.value})}),(0,l.jsx)(i.p,{placeholder:"Video Link",value:(null==f?void 0:f.videoLink)||"",onChange:e=>j(t=>t&&{...t,videoLink:e.target.value})}),(0,l.jsx)(u.A,{value:(null==f?void 0:f.category)||"",onChange:e=>j(t=>t&&{...t,category:e})}),(0,l.jsx)(i.p,{placeholder:"Instructor",value:(null==f?void 0:f.instructor)||"",onChange:e=>j(t=>t&&{...t,instructor:e.target.value})}),(0,l.jsx)("div",{className:"flex justify-end",children:(0,l.jsx)(r.$,{onClick:A,disabled:v,children:v?"Saving...":(null==f?void 0:f._id)?"Update":"Add"})})]})]})})]})}},2508:(e,t,a)=>{"use strict";a.d(t,{A0:()=>n,BF:()=>i,Hj:()=>c,XI:()=>d,nA:()=>h,nd:()=>o});var l=a(5155),s=a(2115),r=a(1567);let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("div",{className:"relative w-full overflow-auto",children:(0,l.jsx)("table",{ref:t,className:(0,r.cn)("w-full caption-bottom text-sm",a),...s})})});d.displayName="Table";let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("thead",{ref:t,className:(0,r.cn)("[&_tr]:border-b",a),...s})});n.displayName="TableHeader";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("tbody",{ref:t,className:(0,r.cn)("[&_tr:last-child]:border-0",a),...s})});i.displayName="TableBody",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("tfoot",{ref:t,className:(0,r.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...s})}).displayName="TableFooter";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("tr",{ref:t,className:(0,r.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...s})});c.displayName="TableRow";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("th",{ref:t,className:(0,r.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...s})});o.displayName="TableHead";let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("td",{ref:t,className:(0,r.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...s})});h.displayName="TableCell",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)("caption",{ref:t,className:(0,r.cn)("mt-4 text-sm text-muted-foreground",a),...s})}).displayName="TableCaption"},8070:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(4057).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},2715:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(4057).A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[1365,5825,2985,7608,8441,1517,7358],()=>t(364)),_N_E=e.O()}]);